{% extends "layout.html" %} 
{% block title %} TMS | Manage Drivers {% endblock %} 
{% block content %}

<div class="container mx-auto p-4">
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-bold mb-4">Drivers</h1>
    <a href="{% url 'create-driver' %}" class="bg-blue-500 text-white px-4 py-2 rounded">Add New Driver</a>
  </div>
  <table class="min-w-full bg-white mt-4">
    <thead>
      <tr>
        <th>Name</th>
        <th>Driver License Number</th>
        <th>Assigned Vehicle (Number plate)</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% if drivers %} {% for driver in drivers %}
      <tr>
        <td>{{ driver.name }}</td>
        <td>{{ driver.license_number }}</td>
        <td>
          <div class="flex  justify-between">
            {% if driver.vehicle %}
            <a href="{% url 'view-vehicle' driver.vehicle.id %}" class="bg-gray-200 p-1 mb-1"> {{ driver.vehicle.license_plate }} </a>
            {% else %} No Vehicle Assigned {% endif %}

            <button>
              <a href="{% url 'assign-vehicle-to-driver' driver.id %}" class="bg-blue-500 text-white py-1 px-3 rounded">Assign Vehicle</a>
            </button>
          </div>
        </td>
        <td>
          <a href="{% url 'view-driver' driver.id %}" class="btn view-btn">View</a>
          <a href="{% url 'update-driver' driver.id %}" class="btn edit-btn">Edit</a>
          <a href="{% url 'delete-driver' driver.id %}" class="btn delete-btn">Delete</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4">No drivers registered yet!</td>
      </tr>
      {% endfor %} {% else %}
      <tr>
        <td colspan="4">No drivers registered yet!</td>
      </tr>
      {% endif %}
    </tbody>
  </table>
</div>

{% endblock %}
