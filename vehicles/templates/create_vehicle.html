
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Vehicle</title>
    <script>
        async function createVehicle(event) {
            event.preventDefault();  // Prevent default form submission
            const formData = new FormData(event.target);
            const data = {
                make: formData.get('make'),
                model: formData.get('model'),
                license_plate: formData.get('license_plate'),
                capacity: formData.get('capacity'),
                status: formData.get('status'),
            };

            const response = await fetch('/api/vehicles/create/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            });

            if (response.ok) {
                alert('Vehicle created successfully!');
                window.location.href = '/vehicles/list/';  // Redirect to the vehicle list
            } else {
                alert('Error creating vehicle');
            }
        }
    </script>
</head>
<body>
    <h1>Add Vehicle</h1>
    <form onsubmit="createVehicle(event)">
        <label for="make">Make:</label>
        <input type="text" name="make" required><br>
        
        <label for="model">Model:</label>
        <input type="text" name="model" required><br>

        <label for="license_plate">License Plate:</label>
        <input type="text" name="license_plate" required><br>

        <label for="capacity">Capacity:</label>
        <input type="number" name="capacity" required><br>

        <label for="status">Status:</label>
        <select name="status" required>
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
        </select><br>

        <button type="submit">Add Vehicle</button>
    </form>
    <a href="{% url 'vehicle-list-template' %}">Back to Vehicle List</a>
</body>
</html>
